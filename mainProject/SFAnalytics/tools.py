import subprocess
import re

class handleFile(object):

    @staticmethod
    def saveFile(data, path):
        destination =  open('{}{}'.format(path, data.name), 'wb+')
        for chunk in data.chunks():
            destination.write(chunk)

        destination.close()

#improve this to get file locations and path
class opcodeFile(object):
    #only an exapmle to extract objcode with objdump
    @staticmethod
    def opcode(path):
        out = subprocess.run(['.\objdump.exe', '-d','7zFM.exe'], stdout=subprocess.PIPE, shell=True).stdout.decode().splitlines()
        r = []
        for o in out:
            i = re.findall(r'\d*:\t.*\t(\w*)', o)
            if i:
                r.append(i[0])

    #print opcodes in r
    #for x in xrange(len(r)):
    #   print(r[x] + '\n')
